' {$STAMP BS2}
' {$PBASIC 2.5}

' cycles, repeats, delay
pat0 DATA 32, 4, 30
     DATA Word %0000000000011111
     DATA Word %0000000000000000
     DATA Word %0000000000011111
     DATA Word %0000000000000000
     DATA Word %0000000000011111
     DATA Word %0000000000000000
     DATA Word %0000000000011111
     DATA Word %0000000000000000
     DATA Word %0000000000011111
     DATA Word %0000000000000000
     DATA Word %0000000000011111
     DATA Word %0000000000000000
     DATA Word %0000000000011111
     DATA Word %0000000000000000
     DATA Word %0000000000011111
     DATA Word %0000000000000000
     DATA Word %0001111100000000
     DATA Word %0000000000000000
     DATA Word %0001111100000000
     DATA Word %0000000000000000
     DATA Word %0001111100000000
     DATA Word %0000000000000000
     DATA Word %0001111100000000
     DATA Word %0000000000000000
     DATA Word %0001111100000000
     DATA Word %0000000000000000
     DATA Word %0001111100000000
     DATA Word %0000000000000000
     DATA Word %0001111100000000
     DATA Word %0000000000000000
     DATA Word %0001111100000000
     DATA Word %0000000000000000

pat1 DATA 32, 4, 30
     DATA Word %0001100000011000
     DATA Word %0000000000000000
     DATA Word %0001100000011000
     DATA Word %0000000000000000
     DATA Word %0001100000011000
     DATA Word %0000000000000000
     DATA Word %0001100000011000
     DATA Word %0000000000000000
     DATA Word %0001100000011000
     DATA Word %0000000000000000
     DATA Word %0001100000011000
     DATA Word %0000000000000000
     DATA Word %0001100000011000
     DATA Word %0000000000000000
     DATA Word %0001100000011000
     DATA Word %0000000000000000
     DATA Word %0000001100000011
     DATA Word %0000000000000000
     DATA Word %0000001100000011
     DATA Word %0000000000000000
     DATA Word %0000001100000011
     DATA Word %0000000000000000
     DATA Word %0000001100000011
     DATA Word %0000000000000000
     DATA Word %0000001100000011
     DATA Word %0000000000000000
     DATA Word %0000001100000011
     DATA Word %0000000000000000
     DATA Word %0000001100000011
     DATA Word %0000000000000000
     DATA Word %0000001100000011
     DATA Word %0000000000000000


DIRS = $ffff
OUTS = $0000

i VAR Byte
j VAR Byte
w VAR Word
p VAR Word

pattern VAR Word

cycle VAR Byte
repeat VAR Byte
delay VAR Byte

pattern = pat1

main:

READ pattern + 0, cycle
READ pattern + 1, repeat
READ pattern + 2, delay
p = pattern + 3
cycle = (cycle - 1) * 2

FOR i = 1 TO repeat
  FOR j = 0 TO cycle STEP 2
    READ p + j, Word w
    OUTS = w
'    DEBUG DEC j, " ", BIN w, CR
  PAUSE delay
  NEXT
NEXT

GOTO main